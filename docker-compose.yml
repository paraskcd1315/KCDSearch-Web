services:
  kcdsearch:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: kcdsearch
    restart: unless-stopped
    env_file: .env
    environment:
      - FOURSQUARE_API_KEY=${FOURSQUARE_API_KEY}
      - FOURSQUARE_API_VERSION=${FOURSQUARE_API_VERSION:-2025-06-17}
      - AI_PROVIDER_ID=${AI_PROVIDER_ID}
      - AI_PROVIDER_KEY=${AI_PROVIDER_KEY}
      - AI_PROVIDER_EMBED_ID=${AI_PROVIDER_EMBED_ID}
      - AI_PROVIDER_EMBED_KEY=${AI_PROVIDER_EMBED_KEY}
    networks:
      - proxy-net

networks:
  proxy-net:
    external: true
